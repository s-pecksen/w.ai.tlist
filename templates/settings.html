{% extends "base.html" %}

{% block title %}Settings - Waitlyst{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Settings</h2>
    <hr>
    <div class="row">
        <div class="col-md-6">
            <h4>Download Encrypted Database</h4>
            <form method="post" action="{{ url_for('settings.download_db') }}">
                <button type="submit" class="btn btn-primary">Download Encrypted Database</button>
            </form>
        </div>
        <div class="col-md-6">
            <h4>Upload Encrypted Database</h4>
            <form method="post" action="{{ url_for('settings.upload_db') }}" enctype="multipart/form-data">
                <div class="mb-3">
                    <input type="file" name="dbfile" class="form-control" accept=".db,.enc">
                </div>
                <button type="submit" class="btn btn-success">Upload and Replace Database</button>
            </form>
        </div>
    </div>
    <div class="alert alert-info mt-4">
        <b>Note:</b> Downloading will export your database in encrypted form. Uploading will replace your current database with the uploaded (decrypted) one. Use the same encryption key as your app for compatibility across versions.
    </div>
</div>
{% endblock %} 